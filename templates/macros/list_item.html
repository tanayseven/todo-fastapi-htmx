{% macro render(list_item) %}
<li class="
        todo-list
        {% if list_item["state"] != "DONE" %}todo-list-active{% endif %}
    " id="list-{{ list_item["id"] }}">
<div class="box">
    <span
        class="
            note-text
            {% if list_item["state"] == "DONE" %}done{% endif %}
            {% if list_item["state"] != "DONE" %}undone-list-item{% endif %}
        "
        {% if list_item["state"] != "DONE" %}
            hx-trigger="click"
            hx-get="/item/{{ list_item["id"] }}/edit"
            hx-target="#list-{{ list_item["id"] }}"
            hx-swap="outerHTML"
        {% endif %}
    >{{ list_item["text"] }}</span>
    {% if list_item["state"] != "DONE" %}
    <button
        hx-trigger="click"
        hx-patch="/item/{{ list_item["id"] }}/done"
        hx-target="#list-{{ list_item["id"] }}"
        hx-swap="outerHTML"
        class="todo-item-button"
    ><img class="todo-item-icon" src="/static/icons/check.svg" alt="Done todo item icon"></button>
    {% endif %}
    {% if list_item["state"] == "DONE" %}
    <button
        hx-trigger="click"
        hx-patch="/item/{{ list_item["id"] }}/undo"
        hx-target="#list-{{ list_item["id"] }}"
        hx-swap="outerHTML"
        class="todo-item-button"
    ><img class="todo-item-icon" src="/static/icons/undo.svg" alt="Undo todo item icon"></button>
    {% endif %}
    <button
        hx-trigger="click"
        hx-delete="/item/{{ list_item["id"] }}"
        hx-target="#list"
        hx-swap="outerHTML"
        class="todo-item-button"
    ><img class="todo-item-icon" src="/static/icons/delete.svg" alt="Delete todo item icon"></button>
</div>
</li>
{% endmacro %}
